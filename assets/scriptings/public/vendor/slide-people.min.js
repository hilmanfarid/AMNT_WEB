var app = new Vue({
  el: 'header',
  data: {
    currentSlide: 0,
    isPreviousSlide: false,
    isFirstLoad: true,
    slides: [{
      headline: "Insert Quote every Image",
      description: "Bringing together local understandings and worldwide capabilities earn the license to lead in the mining industry.",
      background: "/Sitefinity/WebSiteTemplates/webprofile/assets/storages/image/component/slider-1.jpg"
    },
    {
      headline: "Multi-Asset Portfolio",
      description: "Two decades of running one of the biggest copper and gold mines focusing on cost-effective approach and preserving values for all stakeholders.",
      background: "/Sitefinity/WebSiteTemplates/webprofile/assets/storages/image/component/slider-2.jpg"
    },
    {
      headline: "Live Green",
      description: "At the nexus of our heart settles a solid leadership and the application of a proficient, transparent, and sustainable environmental management.",
      background: "/Sitefinity/WebSiteTemplates/webprofile/assets/storages/image/component/slider-3.jpg"
    }]
  },
  mounted: function () {
    var rotatorSlide = document.getElementById("app"),
        startX       = 0;
        endX         = 0;

    rotatorSlide.addEventListener("touchstart", (event) => startX = event.touches[0].pageX);
    rotatorSlide.addEventListener("touchmove", (event) => endX = event.touches[0].pageX);

    rotatorSlide.addEventListener("touchend", function(event) {
      var threshold = startX - endX;
      if (threshold < 150 && 0 < this.currentSlide)
        this.currentSlide--;

      if (threshold > -150 && this.currentSlide < this.slides.length - 1)
        this.currentSlide++;

    }.bind(this));
  },
  methods: {
    updateSlide(index) {
      index < this.currentSlide ? this.isPreviousSlide = true : this.isPreviousSlide = false;
      this.currentSlide = index;
      this.isFirstLoad = false;
    }
  }
});